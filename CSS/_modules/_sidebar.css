/*
 * =================================================
 * M√ìDULO: BARRA LATERAL (SIDEBAR) - CONSOLIDACI√ìN ESTRUCTURAL
 * Archivo: _modules/_sidebar.css
 * =================================================
 */

/* === 1. ARQUITECTURA BASE (DESKTOP) === */

/* Contenedor Flexbox Principal (DOCS ARCHITECTURE) */
.docs-container {
    display: flex;
    /* Se mantiene la l√≥gica calc(100vh) */
    min-height: calc(100vh - var(--spacing-5));
    max-width: 140rem;
    margin: 0 auto;
    padding: var(--spacing-4) 0; /* ‚úÖ REFACTORIZADO: Padding vertical por defecto */
}

/* Estilos de la Barra Lateral (#docs-sidebar) */
#docs-sidebar {
    /* Por defecto, oculta la barra lateral en pantallas peque√±as */
    display: none;

    /* ‚úÖ REFACTORIZADO: Fondo de la superficie para distinguirlo del body */
    background-color: var(--color-surface);
    border-radius: var(
        --radius-base
    ); /* A√±adido radio base para suavizar bordes */

    /* Propiedades de escritorio */
    flex: 0 0 25rem;
    padding-right: var(
        --spacing-4
    ); /* ‚úÖ REFACTORIZADO: Espacio entre barra y contenido */
    overflow-y: auto;
    max-height: calc(
        100vh - var(--spacing-4)
    ); /* ‚úÖ REFACTORIZADO: Altura ajustada */
    position: sticky;
    top: var(--spacing-4); /* ‚úÖ REFACTORIZADO: Sticky top ajustado */

    /* üé® REFACTORIZADO: Sombra Modular (Funciona en Light/Dark) */
    box-shadow: 0 0 10px rgba(var(--color-shadow-base), var(--shadow-opacity));
    border-right: none;
}

/* Estilos para el Contenido Principal de Docs */
.docs-content {
    flex-grow: 1;
    padding: var(--spacing-4); /* ‚úÖ REFACTORIZADO: Padding de contenido */
    padding-left: var(
        --spacing-5
    ); /* ‚úÖ REFACTORIZADO: M√°s espacio entre sidebar y contenido */
}

/* Bloques de C√≥digo (RESPONSIVIDAD BASE) */
.code-snippets pre {
    overflow-x: auto;
    max-width: 100%;
    padding: var(--spacing-3); /* ‚úÖ REFACTORIZADO */
}

/* √Årea de Vista Previa (RESPONSIVIDAD BASE) */
.preview-area {
    width: 100%;
    overflow-x: hidden;
}

/* T√≠tulos de M√≥dulo */
#docs-sidebar h3 {
    font-size: var(--font-size-lg); /* ‚úÖ REFACTORIZADO */
    color: var(
        --color-text-secondary
    ); /* ‚úÖ REFACTORIZADO: Usa color secundario para sutileza */
    margin: var(--spacing-3) 0 var(--spacing-2) 0; /* ‚úÖ REFACTORIZADO: Usando Spacing Scale */
    font-weight: var(--font-weight-semi); /* ‚úÖ REFACTORIZADO */
    border-bottom: none;
    padding-bottom: 0;
}

/* Estilos de la Lista de Componentes (.component-list) */
.component-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.component-list li a {
    display: block;
    padding: var(--spacing-2) var(--spacing-3); /* ‚úÖ REFACTORIZADO */
    text-decoration: none;
    color: var(--color-text-base); /* ‚úÖ REFACTORIZADO */
    border-radius: var(--radius-base); /* ‚úÖ REFACTORIZADO */
    transition: background-color 0.2s;
}

.component-list li a:hover {
    /* ‚úÖ REFACTORIZADO: Usa el fondo ligero, sutil en ambos temas */
    background-color: var(--color-bg-light);
    color: var(--color-primary);
}

/* Estilo de Elemento Activo (.is-active) */
.component-list li a.is-active {
    font-weight: var(--font-weight-bold); /* ‚úÖ REFACTORIZADO */
    background-color: var(--color-primary);
    color: var(
        --color-text-inverse
    ); /* ‚úÖ REFACTORIZADO: Asegura texto legible sobre primario */
    padding: var(--spacing-2) var(--spacing-3); /* ‚úÖ REFACTORIZADO */
}

/* === 2. RESPONSIVIDAD (MOBILE/DESKTOP) === */

@media (min-width: 992px) {
    /* Reactivaci√≥n del Layout Flexbox */
    .docs-container {
        padding: var(--spacing-4) 5%; /* ‚úÖ REFACTORIZADO */
        margin: 0 auto;
    }

    /* Reglas de Sidebar */
    #docs-sidebar {
        display: block;
        flex: 0 0 25rem;
        padding-right: var(--spacing-4); /* ‚úÖ REFACTORIZADO */
    }

    /* Reglas de Contenido */
    .docs-content {
        padding-left: var(--spacing-4); /* ‚úÖ REFACTORIZADO */
    }
}

/* Estilos de MOBILE (Anulaci√≥n y Comportamiento) */
@media (max-width: 767px) {
    /* LAYOUT PRINCIPAL: Anulaci√≥n y Apilamiento */
    .docs-container {
        flex-direction: column;
        min-height: auto;
        padding: 0 0;
        margin: 0 0;
    }

    /* SIDEBAR (Barra Lateral - Propiedades de Mobile) */
    #docs-sidebar {
        display: block;
        position: fixed; /* ‚úÖ CORREGIDO: Usar fixed para una superposici√≥n m√≥vil correcta */
        top: 60px; /* Se mantiene 60px asumiendo el header mide eso */
        left: 0;
        width: 85%; /* Mejor que 100%, deja una peque√±a sombra */
        /* ‚úÖ REFACTORIZADO: Usa la superficie para el panel */
        background-color: var(--color-surface);
        height: calc(100vh - 60px);
        z-index: 1000;
        transform: translateX(-100%);
        transition: transform 0.3s ease-out;
        border-right: none;
        overflow-y: auto;
        padding: var(--spacing-4) 0; /* A√±adido padding interno para el contenido */

        /* ‚úÖ REFACTORIZADO: Sombra m√°s fuerte (opacidad forzada) para efecto overlay */
        box-shadow: 5px 0 10px rgba(var(--color-shadow-base), 0.7);
    }

    /* Clase de Estado: SIDEBAR ABIERTO (Controlado por JS) */
    .docs-container.is-sidebar-open #docs-sidebar {
        transform: translateX(0);
        border-right: 1px solid var(--color-border); /* ‚úÖ REFACTORIZADO */
    }

    /* CONTENIDO (Content) */
    .docs-content {
        flex-grow: 1;
        padding: var(--spacing-4) var(--spacing-3); /* ‚úÖ REFACTORIZADO */
        width: 100%;
        min-width: 0;
    }

    .preview-area {
        min-width: 0;
    }

    /* Bloque de c√≥digo a agregar dentro de @media (max-width: 767px) en _sidebar.css */
    #sidebar-toggle {
        display: flex !important;
    }
}
